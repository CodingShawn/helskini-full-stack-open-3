{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Alert.js","PersonService.js","components/App.js","index.js"],"names":["Filter","onFilterInputChange","filter","onChange","value","PersonForm","addPerson","onNumberInputChange","onNameInputChange","newName","newNumber","onSubmit","type","Persons","personsToShow","deletePerson","map","person","name","number","onClick","id","Alert","alert","ifError","style","borderRadius","border","color","padding","backgroundColor","baseUrl","create","newPerson","axios","post","then","response","data","getAll","get","deleteUrl","delete","update","updateUrl","put","App","useState","persons","setPersons","setAlert","setIfError","useEffect","PersonService","returnedPersons","setNewName","setNewNumber","setFilter","showAlert","setTimeout","event","input","target","preventDefault","listOfNames","includes","targetId","window","confirm","catch","error","updatePerson","find","returnedPerson","concat","lowerCaseName","toLowerCase","lowerCaseFilter","startsWith","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1eaac54f.chunk.js","sourcesContent":["import React from \"react\"\n\nfunction Filter({onFilterInputChange, filter}){\n\n  return (\n    <div>\n    filter shown with <input onChange={onFilterInputChange} value={filter}/>\n    </div>\n  )\n}\n\nexport default Filter;","import React from \"react\";\n\nfunction PersonForm({\n  addPerson,\n  onNumberInputChange,\n  onNameInputChange,\n  newName,\n  newNumber,\n}) {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input onChange={onNameInputChange} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={onNumberInputChange} value={newNumber}></input>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({personsToShow, deletePerson}) {\n  return (\n    <>\n      {personsToShow.map((person) => (\n        <div key={person.id}>\n          {person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button>\n        </div>\n      ))}\n    </>\n  );\n}\n\nexport default Persons;\n","function Alert({ alert, ifError }) {\n  let alertSuccessStyle = {\n    borderRadius: \"4px\",\n    border: \"2px solid darkgreen\",\n    color: \"green\",\n    padding: \"5px\",\n    backgroundColor: \"lightgrey\"\n  }\n\n  let alertFailStyle = {\n    borderRadius: \"4px\",\n    border: \"2px solid red\",\n    color: \"red\",\n    padding: \"5px\",\n    backgroundColor: \"lightgrey\"\n  }\n\n  if (alert === null) {\n    return null;\n  }\n\n  return <div style={ifError ? alertFailStyle : alertSuccessStyle}>{alert}</div>;\n}\n\nexport default Alert;","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nfunction getAll() {\n  let request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n}\n\nfunction create(newPerson) {\n  return axios.post(baseUrl, newPerson).then((response) => response.data);\n}\n\nfunction deletePerson(person) {\n  let deleteUrl = baseUrl + `/${person.id}`;\n  axios.delete(deleteUrl);\n}\n\nfunction update(person, id) {\n  let updateUrl = baseUrl + `/${id}`;\n  return axios.put(updateUrl, person).then((response) => response.data);\n}\n\nexport default { create, getAll, deletePerson, update };\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Alert from \"./Alert\";\nimport PersonService from \"../PersonService\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [alert, setAlert] = useState(null);\n  const [ifError, setIfError] = useState(false);\n\n  useEffect(() => {\n    PersonService.getAll().then((returnedPersons) =>\n      setPersons(returnedPersons)\n    );\n  }, []);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n\n  function showAlert(alert, ifError = false) {\n    setIfError(ifError);\n    setAlert(alert);\n    setTimeout(() => setAlert(null), 5000);\n  }\n\n  function onNameInputChange(event) {\n    let input = event.target.value;\n    setNewName(input);\n  }\n\n  function addPerson(event) {\n    event.preventDefault();\n    let listOfNames = persons.map((person) => person.name);\n    // Check for duplicate persons\n    let newPerson = { name: newName, number: newNumber };\n    if (listOfNames.includes(newName)) {\n      let targetId = persons.find((person) => person.name === newName).id;\n      updatePerson(newPerson, targetId);\n    } else {\n      PersonService.create(newPerson).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n      });\n      showAlert(`Added ${newName}`);\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  }\n\n  function updatePerson(person, targetId) {\n    if (\n      window.confirm(\n        `${person.name} is already added to phonebook. Replace the old number with a new one?`\n      )\n    ) {\n      PersonService.update(person, targetId)\n        .then(() => {\n          PersonService.getAll().then((returnedPersons) =>\n            setPersons(returnedPersons)\n          );\n          showAlert(`Updated ${newName}'s number`);\n        })\n        .catch((error) => {\n          showAlert(\n            `Information of ${newName} has already been removed from server`,\n            true\n          );\n        });\n    }\n  }\n\n  function deletePerson(person) {\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      PersonService.deletePerson(person);\n      PersonService.getAll().then((returnedPersons) =>\n        setPersons(returnedPersons)\n      );\n    }\n  }\n\n  // function alertDuplicateName() {\n  //   alert(`${newName} is already added to phonebook`);\n  // }\n\n  function onNumberInputChange(event) {\n    let input = event.target.value;\n    setNewNumber(input);\n  }\n\n  function implementFilter() {\n    let filteredPersons = persons.filter((person) => {\n      let lowerCaseName = person.name.toLowerCase();\n      let lowerCaseFilter = filter.toLowerCase();\n      return lowerCaseName.startsWith(lowerCaseFilter);\n    });\n    return filteredPersons;\n  }\n\n  function onFilterInputChange(event) {\n    let input = event.target.value;\n    setFilter(input);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Alert alert={alert} ifError={ifError} />\n      <Filter onFilterInputChange={onFilterInputChange} filter={filter} />\n      <h2>add a new person</h2>\n      <PersonForm\n        addPerson={addPerson}\n        onNameInputChange={onNameInputChange}\n        onNumberInputChange={onNumberInputChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons personsToShow={implementFilter()} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport App from \"./components/App\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}